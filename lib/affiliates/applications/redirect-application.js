"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express = require('express');
const cookieParser = require('cookie-parser');
const redirectRouter = require('../router/redirect-router');
const ApiErrorAndLoggingHelper = require('../../api/helpers/api-error-and-logging-helper');
const app = express();
exports.app = app;
app.use(cookieParser());
const { ApiLoggerStream, ApiLogger } = require('../../../config/winston');
ApiErrorAndLoggingHelper.initBeforeRouters(app, ApiLogger, ApiLoggerStream);
app.use('/', redirectRouter);
ApiErrorAndLoggingHelper.initErrorHandlers(app);
